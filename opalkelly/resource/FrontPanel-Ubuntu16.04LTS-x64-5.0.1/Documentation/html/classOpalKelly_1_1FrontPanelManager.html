<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>FrontPanel API: OpalKelly::FrontPanelManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="OpalKellyAPI.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_tiny.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FrontPanel API
   &#160;<span id="projectnumber">5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceOpalKelly.html">OpalKelly</a></li><li class="navelem"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html">FrontPanelManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOpalKelly_1_1FrontPanelManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpalKelly::FrontPanelManager Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for managing device connections and disconnections.  
 <a href="classOpalKelly_1_1FrontPanelManager.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html">CallbackInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper used for device monitoring by <a class="el" href="classOpalKelly_1_1FrontPanelManager.html" title="Class for managing device connections and disconnections. ">FrontPanelManager</a>.  <a href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a19eadc72b8626702d122e02ae9335d35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a19eadc72b8626702d122e02ae9335d35">FrontPanelManager</a> ()</td></tr>
<tr class="memdesc:a19eadc72b8626702d122e02ae9335d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a19eadc72b8626702d122e02ae9335d35">More...</a><br /></td></tr>
<tr class="separator:a19eadc72b8626702d122e02ae9335d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26336ef048845eda48b13178cbeff296"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26336ef048845eda48b13178cbeff296"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a26336ef048845eda48b13178cbeff296">~FrontPanelManager</a> ()</td></tr>
<tr class="memdesc:a26336ef048845eda48b13178cbeff296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor stops monitoring the devices. <br /></td></tr>
<tr class="separator:a26336ef048845eda48b13178cbeff296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8917d7bb05f5d5347820db8cb7541665"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665">StartMonitoring</a> (<a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html">CallbackInfo</a> *cbInfo=NULL)</td></tr>
<tr class="memdesc:a8917d7bb05f5d5347820db8cb7541665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start monitoring for Opal Kelly devices connections and disconnections.  <a href="#a8917d7bb05f5d5347820db8cb7541665">More...</a><br /></td></tr>
<tr class="separator:a8917d7bb05f5d5347820db8cb7541665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3683cf5eaf98ebe7e18429b351ebc6e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop</a> (<a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html">CallbackInfo</a> &amp;callbackInfo)</td></tr>
<tr class="separator:a3683cf5eaf98ebe7e18429b351ebc6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77e35407d1188268d86679ba7966b0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#af77e35407d1188268d86679ba7966b0b">ExitMonitorLoop</a> (int exitCode=0)</td></tr>
<tr class="separator:af77e35407d1188268d86679ba7966b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa59e7e316235816241c44ddf722ddc7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7">OnDeviceAdded</a> (const char *serial)=0</td></tr>
<tr class="memdesc:aaa59e7e316235816241c44ddf722ddc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a new device is connected to the system.  <a href="#aaa59e7e316235816241c44ddf722ddc7">More...</a><br /></td></tr>
<tr class="separator:aaa59e7e316235816241c44ddf722ddc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab797fe31c006278e98438f2453e96e0e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e">OnDeviceRemoved</a> (const char *serial)=0</td></tr>
<tr class="memdesc:ab797fe31c006278e98438f2453e96e0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a device is disconnected from the system.  <a href="#ab797fe31c006278e98438f2453e96e0e">More...</a><br /></td></tr>
<tr class="separator:ab797fe31c006278e98438f2453e96e0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540c23ce4ddec57548a287302cc2840a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classokCFrontPanel.html">okCFrontPanel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a540c23ce4ddec57548a287302cc2840a">Open</a> (const char *serial)</td></tr>
<tr class="memdesc:a540c23ce4ddec57548a287302cc2840a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new device object from the serial number.  <a href="#a540c23ce4ddec57548a287302cc2840a">More...</a><br /></td></tr>
<tr class="separator:a540c23ce4ddec57548a287302cc2840a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class allows to be notified about devices connections and disconnections.</p>
<p>To receive these notifications, you need to derive your own manager subclass from this class and override its virtual <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> and <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e" title="Called when a device is disconnected from the system. ">OnDeviceRemoved()</a> methods.</p>
<p>Notice that for these methods to actually be called whenever devices are connected or disconnected, an event loop must be running. This will be the case for any standard GUI application under Microsoft Windows and macOS platforms, but not necessarily under other Unix systems, requiring slightly more work to make the device detection to work there: <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a> must be called with a <a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html" title="Helper used for device monitoring by FrontPanelManager. ">CallbackInfo</a> argument and the file descriptor returned via this argument must be registered with the main loop.</p>
<p>If there is no event loop already running, e.g. in a console application, it is also possible to use <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a> method to run a dedicated event loop just for the device connection detection. This method should be normally called in a separate thread, as it blocks the program execution until <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#af77e35407d1188268d86679ba7966b0b">ExitMonitorLoop()</a> loop is called. Typically, the program would create a thread and call first <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a> and then <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a> from that thread. Notice that initially <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> is called directly by <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a> and, hence, in the context of the thread calling that method, while subsequent <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> and <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e" title="Called when a device is disconnected from the system. ">OnDeviceRemoved()</a> calls will be performed from the thread in which <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a> was called. To avoid confusion, it is strongly recommended to call both <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a> and <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a> from the same thread.</p>
<p>Alternatively, use <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html" title="Allows to iterate over and open all devices available in the given realm. ">FrontPanelDevices</a> if you need to simply open a connected device and are not interested in getting notifications for the devices connections and disconnections.</p>
<p>See <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a540c23ce4ddec57548a287302cc2840a" title="Create a new device object from the serial number. ">Open()</a> method documentation for a simple example of doing this. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a19eadc72b8626702d122e02ae9335d35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpalKelly::FrontPanelManager::FrontPanelManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This constructor doesn't do anything special, call <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a> to enable calls to <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> and <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e" title="Called when a device is disconnected from the system. ">OnDeviceRemoved()</a> methods. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3683cf5eaf98ebe7e18429b351ebc6e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OpalKelly::FrontPanelManager::EnterMonitorLoop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html">CallbackInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>callbackInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Listen for events about devices connections and disconnections in a loop.</p>
<p>This function doesn't return until <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#af77e35407d1188268d86679ba7966b0b">ExitMonitorLoop()</a> is called from another thread. Use it if you don't already have a message loop in your main program.</p>
<p>If the loop cannot be started, throws a <code>runtime_error</code> exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callbackInfo</td><td>The same object that was passed to <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665" title="Start monitoring for Opal Kelly devices connections and disconnections. ">StartMonitoring()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The exit code passed to <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#af77e35407d1188268d86679ba7966b0b">ExitMonitorLoop()</a>. Notice that this function may also throw an exception. </dd></dl>

</div>
</div>
<a class="anchor" id="af77e35407d1188268d86679ba7966b0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpalKelly::FrontPanelManager::ExitMonitorLoop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exitCode</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop the currently running monitoring loop.</p>
<p>Calling this function terminates <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a>.</p>
<p>Notice that it has, by necessity, to be called from another thread as <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a> blocks the execution of the thread it is running in until it returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exitCode</td><td>The exit code to return from <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a3683cf5eaf98ebe7e18429b351ebc6e9">EnterMonitorLoop()</a>, by convention 0 indicates success and any non-zero value an error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa59e7e316235816241c44ddf722ddc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OpalKelly::FrontPanelManager::OnDeviceAdded </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The application will typically call <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#a540c23ce4ddec57548a287302cc2840a" title="Create a new device object from the serial number. ">FrontPanelManager::Open()</a> to open the newly connected device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">serial</td><td>Unique identifier of the new device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab797fe31c006278e98438f2453e96e0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void OpalKelly::FrontPanelManager::OnDeviceRemoved </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This callback can be used to remove the currently shown device from the application UI, for example.</p>
<p>Notice that <em>serial</em> will normally correspond to the same parameter of a previous call to <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">serial</td><td>Unique identifier of the disconnected device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a540c23ce4ddec57548a287302cc2840a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classokCFrontPanel.html">okCFrontPanel</a>* OpalKelly::FrontPanelManager::Open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Notice that the caller must delete the pointer returned by this method. The best way to do it is to assign its result to <code>std::shared_ptr&lt;&gt;</code>, <code>std::unique_ptr&lt;&gt;</code> or, if your C++ compiler doesn't support these classes yet, to <code>std::auto_ptr&lt;&gt;</code>. Otherwise you need to do it manually, e.g:</p>
<div class="fragment"><div class="line"><span class="comment">// Simple manager class always storing the last connected device</span></div><div class="line"><span class="comment">// (works for single device only, use a std::map of strings to</span></div><div class="line"><span class="comment">// pointers to have more than one).</span></div><div class="line"><span class="keyword">class </span>MySimpleManager : <span class="keyword">public</span> <a class="code" href="classOpalKelly_1_1FrontPanelManager.html">OpalKelly::FrontPanelManager</a> {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MySimpleManager() {</div><div class="line">        m_device = NULL;</div><div class="line">        <a class="code" href="classOpalKelly_1_1FrontPanelManager.html#a8917d7bb05f5d5347820db8cb7541665">StartMonitoring</a>();</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7">OnDeviceAdded</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *serial) {</div><div class="line">        <span class="keyword">delete</span> m_device;</div><div class="line">        m_device = <a class="code" href="classOpalKelly_1_1FrontPanelManager.html#a540c23ce4ddec57548a287302cc2840a">Open</a>(serial);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e">OnDeviceRemoved</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *serial) {</div><div class="line">        <span class="keyword">delete</span> m_device;</div><div class="line">        m_device = NULL;</div><div class="line">    }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <a class="code" href="classokCFrontPanel.html">okCFrontPanel</a> *m_device;</div><div class="line">};</div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">serial</td><td>The serial number of the device to open, typically obtained from a call to <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new device object to be deleted by the caller or <code>NULL</code> if opening the device failed. </dd></dl>

</div>
</div>
<a class="anchor" id="a8917d7bb05f5d5347820db8cb7541665"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpalKelly::FrontPanelManager::StartMonitoring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structOpalKelly_1_1FrontPanelManager_1_1CallbackInfo.html">CallbackInfo</a> *&#160;</td>
          <td class="paramname"><em>cbInfo</em> = <code>NULL</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call this method to subscribe to device connection and disconnection messages. If subscription fails, an <code>std::runtime_error</code> exception is thrown.</p>
<p>Otherwise, <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> will be called for each device connected at the moment of this call, allowing the application to build a full list of them.</p>
<p>Notice that this method relies on having a working event loop in the calling application which should dispatch OS-level notifications that are generated when the devices are added to or removed from the system, the notifications won't be generated without a running event loop.</p>
<p>If there is no running event loop or if the platform requires the use of <em>cbInfo</em> but it isn't provided or the file descriptor returned in it is not registered with the event loop, device connection and disconnection detection won't work, i.e. <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#aaa59e7e316235816241c44ddf722ddc7" title="Called when a new device is connected to the system. ">OnDeviceAdded()</a> won't be called for the subsequently connected devices (it is still called for the devices already connected at the moment of this call) and <a class="el" href="classOpalKelly_1_1FrontPanelManager.html#ab797fe31c006278e98438f2453e96e0e" title="Called when a device is disconnected from the system. ">OnDeviceRemoved()</a> won't be called at all.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbInfo</td><td>Information about the callback which needs to be executed when the file descriptor specified in this struct becomes available for reading. This is only used under (non-macOS) Unix systems where the library doesn't have any other way to monitor the devices. If this argument is null or its descriptor is not monitored to the main loop, device connection and disconnection detection won't work, as described above. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<hr size="1">
<center><small>Copyright (c) 2005-2017  Opal Kelly Incorporated</small></center>
</body>
</html>
