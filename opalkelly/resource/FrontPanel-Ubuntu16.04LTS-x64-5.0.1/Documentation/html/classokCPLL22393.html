<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>FrontPanel API: okCPLL22393 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="OpalKellyAPI.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_tiny.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FrontPanel API
   &#160;<span id="projectnumber">5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classokCPLL22393-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">okCPLL22393 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Container class which holds the appropriate configuration parameters for a Cypress 22393 PLL.  
 <a href="classokCPLL22393.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52ba9bed6fe4b6e840a2be293137e623"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a52ba9bed6fe4b6e840a2be293137e623"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a52ba9bed6fe4b6e840a2be293137e623">okCPLL22393</a> ()</td></tr>
<tr class="memdesc:a52ba9bed6fe4b6e840a2be293137e623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a52ba9bed6fe4b6e840a2be293137e623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c83db8637b48639489235bf3ffd450"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3c83db8637b48639489235bf3ffd450"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#aa3c83db8637b48639489235bf3ffd450">GetOutputDivider</a> (int n)</td></tr>
<tr class="memdesc:aa3c83db8637b48639489235bf3ffd450"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the divider value for output number N. <br /></td></tr>
<tr class="separator:aa3c83db8637b48639489235bf3ffd450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d7223004a5bec4106afca099510336"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10d7223004a5bec4106afca099510336"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a10d7223004a5bec4106afca099510336">GetOutputFrequency</a> (int n)</td></tr>
<tr class="memdesc:a10d7223004a5bec4106afca099510336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current output frequency for a particular output. <br /></td></tr>
<tr class="separator:a10d7223004a5bec4106afca099510336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec3473562799ce2dc757cc6c8b1fcc5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ec3473562799ce2dc757cc6c8b1fcc5"></a>
ClockSource&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a5ec3473562799ce2dc757cc6c8b1fcc5">GetOutputSource</a> (int n)</td></tr>
<tr class="memdesc:a5ec3473562799ce2dc757cc6c8b1fcc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current output clock source for a particular output. <br /></td></tr>
<tr class="separator:a5ec3473562799ce2dc757cc6c8b1fcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021c7f842ce6c7db6cb8234acaf65a31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a021c7f842ce6c7db6cb8234acaf65a31"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a021c7f842ce6c7db6cb8234acaf65a31">GetPLLFrequency</a> (int n)</td></tr>
<tr class="memdesc:a021c7f842ce6c7db6cb8234acaf65a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the PLL output frequency. <br /></td></tr>
<tr class="separator:a021c7f842ce6c7db6cb8234acaf65a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7d896357aebae66918abf7b1046f9d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f7d896357aebae66918abf7b1046f9d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a7f7d896357aebae66918abf7b1046f9d">GetPLLP</a> (int n)</td></tr>
<tr class="memdesc:a7f7d896357aebae66918abf7b1046f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the PLL P(total) value. <br /></td></tr>
<tr class="separator:a7f7d896357aebae66918abf7b1046f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa155fc9223d1cb0d567f8e9c8e1a4b23"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa155fc9223d1cb0d567f8e9c8e1a4b23"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#aa155fc9223d1cb0d567f8e9c8e1a4b23">GetPLLQ</a> (int n)</td></tr>
<tr class="memdesc:aa155fc9223d1cb0d567f8e9c8e1a4b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the PLL Q(total) value. <br /></td></tr>
<tr class="separator:aa155fc9223d1cb0d567f8e9c8e1a4b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a696145bb8b66e4666909bfb785060aad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a696145bb8b66e4666909bfb785060aad"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a696145bb8b66e4666909bfb785060aad">GetProgrammingInfo</a> (unsigned char *buf)</td></tr>
<tr class="memdesc:a696145bb8b66e4666909bfb785060aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads 'buf' with alternating address/data for programming the PLL. <br /></td></tr>
<tr class="separator:a696145bb8b66e4666909bfb785060aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22c64668ff8d0eb9a1ed3e54887b19cd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22c64668ff8d0eb9a1ed3e54887b19cd"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a22c64668ff8d0eb9a1ed3e54887b19cd">GetReference</a> ()</td></tr>
<tr class="memdesc:a22c64668ff8d0eb9a1ed3e54887b19cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current reference crystal frequency. <br /></td></tr>
<tr class="separator:a22c64668ff8d0eb9a1ed3e54887b19cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8b35ffa40d7ee3bcfd3021d19980c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d8b35ffa40d7ee3bcfd3021d19980c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a2d8b35ffa40d7ee3bcfd3021d19980c6">InitFromProgrammingInfo</a> (unsigned char *buf)</td></tr>
<tr class="memdesc:a2d8b35ffa40d7ee3bcfd3021d19980c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the PLL data from I2C programming data. <br /></td></tr>
<tr class="separator:a2d8b35ffa40d7ee3bcfd3021d19980c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e180ff0786ab751559b5fda6db48cea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e180ff0786ab751559b5fda6db48cea"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a3e180ff0786ab751559b5fda6db48cea">IsPLLEnabled</a> (int n)</td></tr>
<tr class="memdesc:a3e180ff0786ab751559b5fda6db48cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true is the specified PLL is enabled. <br /></td></tr>
<tr class="separator:a3e180ff0786ab751559b5fda6db48cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e11f510307a8995ffea91081d2228e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e11f510307a8995ffea91081d2228e3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a0e11f510307a8995ffea91081d2228e3">IsOutputEnabled</a> (int n)</td></tr>
<tr class="memdesc:a0e11f510307a8995ffea91081d2228e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true is the specified output is enabled. <br /></td></tr>
<tr class="separator:a0e11f510307a8995ffea91081d2228e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fae87353175dfc9cc2961cfccc57956"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5fae87353175dfc9cc2961cfccc57956"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a5fae87353175dfc9cc2961cfccc57956">SetCrystalLoad</a> (double capload)</td></tr>
<tr class="memdesc:a5fae87353175dfc9cc2961cfccc57956"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the crystal load capacitance. <br /></td></tr>
<tr class="separator:a5fae87353175dfc9cc2961cfccc57956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f5cd0689362fe194f7f075e50d4ec9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4f5cd0689362fe194f7f075e50d4ec9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#ac4f5cd0689362fe194f7f075e50d4ec9">SetOutputEnable</a> (int n, bool enable)</td></tr>
<tr class="memdesc:ac4f5cd0689362fe194f7f075e50d4ec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the output enable for a particular output. <br /></td></tr>
<tr class="separator:ac4f5cd0689362fe194f7f075e50d4ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1acdc6c588fb65e193e775ec1936957"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1acdc6c588fb65e193e775ec1936957"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#af1acdc6c588fb65e193e775ec1936957">SetOutputDivider</a> (int n, int div)</td></tr>
<tr class="memdesc:af1acdc6c588fb65e193e775ec1936957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the divider value for output number N. <br /></td></tr>
<tr class="separator:af1acdc6c588fb65e193e775ec1936957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecbce843128c650a14be48890970b84"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ecbce843128c650a14be48890970b84"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a2ecbce843128c650a14be48890970b84">SetOutputSource</a> (int n, ClockSource clksrc)</td></tr>
<tr class="memdesc:a2ecbce843128c650a14be48890970b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the source for a particular output. <br /></td></tr>
<tr class="separator:a2ecbce843128c650a14be48890970b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047becceb94ad658a14f6858106eb6ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a047becceb94ad658a14f6858106eb6ac"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a047becceb94ad658a14f6858106eb6ac">SetPLLParameters</a> (int n, int p, int q, bool enable=true)</td></tr>
<tr class="memdesc:a047becceb94ad658a14f6858106eb6ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the PLL P(total) and Q(total) values for PLL number N. <br /></td></tr>
<tr class="separator:a047becceb94ad658a14f6858106eb6ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64170b308ef8252367fbb5907a445b8e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#a64170b308ef8252367fbb5907a445b8e">SetPLLLF</a> (int n, int lf)</td></tr>
<tr class="memdesc:a64170b308ef8252367fbb5907a445b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually set the PLL loop filter value for optimal performance.  <a href="#a64170b308ef8252367fbb5907a445b8e">More...</a><br /></td></tr>
<tr class="separator:a64170b308ef8252367fbb5907a445b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fb3d9296343bf66e8144928cacb2c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af7fb3d9296343bf66e8144928cacb2c5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classokCPLL22393.html#af7fb3d9296343bf66e8144928cacb2c5">SetReference</a> (double freq)</td></tr>
<tr class="memdesc:af7fb3d9296343bf66e8144928cacb2c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reference crystal frequency for output frequency computations. <br /></td></tr>
<tr class="separator:af7fb3d9296343bf66e8144928cacb2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a container class which holds the appropriate configuration parameters for a Cypress 22393 PLL. The PLL has a single VCO but mutliple outputs with frequencies derived from dividers and switching blocks.</p>
<p><b>Python Note:</b> Under Python, this class is simply called <b>PLL22393</b>. Therefore, if you import the <b>ok</b> library, you would refer to this class as <b>ok.PLL22393</b>.</p>
<p>Note that this object does not communicate with the XEM. That is, it does not reflect the state of the actual PLL. It is simply a container class used to configure and query the on-board PLL.</p>
<p>Typically, PLL settings will be set with the FrontPanel application and stored in EEPROM. In some cases, however, you may want your code to configure the PLL. Refer to the Cypress documentation to see how the various settings affect the output. The following example configures PLL #0 to operate at 400 MHz and sets up two outputs at 100 MHz and 50 MHz. (PLL 0 throughout the API corresponds to Cypress PLL #1 and so on.)</p>
<div class="fragment"><div class="line"><a class="code" href="classokCPLL22393.html">okCPLL22393</a> *pll = <span class="keyword">new</span> <a class="code" href="classokCPLL22393.html">okCPLL22393</a></div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#af7fb3d9296343bf66e8144928cacb2c5">SetReference</a>(48.0f);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#a047becceb94ad658a14f6858106eb6ac">SetPLLParameters</a>(0, 400, 48);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#a2ecbce843128c650a14be48890970b84">SetOutputSource</a>(0, okCPLL22393::ClkSrc_PLL0_0);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#af1acdc6c588fb65e193e775ec1936957">SetOutputDivider</a>(0, 4);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#ac4f5cd0689362fe194f7f075e50d4ec9">SetOutputEnable</a>(0, <span class="keyword">true</span>);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#a2ecbce843128c650a14be48890970b84">SetOutputSource</a>(1, okCPLL22393::ClkSrc_PLL0_0);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#af1acdc6c588fb65e193e775ec1936957">SetOutputDivider</a>(1, 8);</div><div class="line">pll-&gt;<a class="code" href="classokCPLL22393.html#ac4f5cd0689362fe194f7f075e50d4ec9">SetOutputEnable</a>(1, <span class="keyword">true</span>);</div></div><!-- fragment --><p>At this point, the <b>pll</b> instance may be passed to <b>SetPLLConfiguration</b> to configure the on-board PLL. You can also use <a class="el" href="classokCPLL22393.html#a10d7223004a5bec4106afca099510336" title="Gets the current output frequency for a particular output. ">okCPLL22393::GetOutputFrequency</a> to verify that the output frequency is set properly. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a64170b308ef8252367fbb5907a445b8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool okCPLL22393::SetPLLLF </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the loop filter bits for a particular PLL.</p>
<p>The loop filter bits can be tuned to maintain stability for a given value of Ptotal. These bits are automatically set according to the datasheet when <a class="el" href="classokCPLL22393.html#a047becceb94ad658a14f6858106eb6ac" title="Set the PLL P(total) and Q(total) values for PLL number N. ">SetPLLParameters()</a> is called. However, a particular application may override this setting by calling this function <b>after</b> calling <a class="el" href="classokCPLL22393.html#a047becceb94ad658a14f6858106eb6ac" title="Set the PLL P(total) and Q(total) values for PLL number N. ">SetPLLParameters()</a>. </p>

</div>
</div>
</div><!-- contents -->
<hr size="1">
<center><small>Copyright (c) 2005-2017  Opal Kelly Incorporated</small></center>
</body>
</html>
