<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>FrontPanel API: OpalKelly::FrontPanelDevices Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="OpalKellyAPI.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_tiny.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FrontPanel API
   &#160;<span id="projectnumber">5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceOpalKelly.html">OpalKelly</a></li><li class="navelem"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html">FrontPanelDevices</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOpalKelly_1_1FrontPanelDevices-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpalKelly::FrontPanelDevices Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Allows to iterate over and open all devices available in the given realm.  
 <a href="classOpalKelly_1_1FrontPanelDevices.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acbdf3fbe2919e4c59a3948ef0be55bc7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#acbdf3fbe2919e4c59a3948ef0be55bc7">FrontPanelDevices</a> (const std::string &amp;realm=std::string())</td></tr>
<tr class="memdesc:acbdf3fbe2919e4c59a3948ef0be55bc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumerates all the devices available in the given realm.  <a href="#acbdf3fbe2919e4c59a3948ef0be55bc7">More...</a><br /></td></tr>
<tr class="separator:acbdf3fbe2919e4c59a3948ef0be55bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fb3c6618a0a4979830534894c98f50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11fb3c6618a0a4979830534894c98f50"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a11fb3c6618a0a4979830534894c98f50">GetCount</a> () const </td></tr>
<tr class="memdesc:a11fb3c6618a0a4979830534894c98f50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of available devices, possibly 0. <br /></td></tr>
<tr class="separator:a11fb3c6618a0a4979830534894c98f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88b38bb85d1fbf03fedbffae3a02342"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#af88b38bb85d1fbf03fedbffae3a02342">GetSerial</a> (int num) const </td></tr>
<tr class="separator:af88b38bb85d1fbf03fedbffae3a02342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c76c5201c52a52a5886c4d20ea677e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceOpalKelly.html#aed5b6191f81ce1aacfeefddc19df3293">FrontPanelPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open</a> (const std::string &amp;serial=std::string()) const </td></tr>
<tr class="separator:a4c76c5201c52a52a5886c4d20ea677e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0225965378b41ad4cedac92aed8896"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#acc0225965378b41ad4cedac92aed8896">~FrontPanelDevices</a> ()</td></tr>
<tr class="separator:acc0225965378b41ad4cedac92aed8896"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The devices are identified by their index, which ranges from 0 to <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a11fb3c6618a0a4979830534894c98f50" title="Returns the number of available devices, possibly 0. ">GetCount()</a>. Each device has its own unique serial number returned by <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#af88b38bb85d1fbf03fedbffae3a02342">GetSerial()</a> which can be used to pass it to <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open()</a>, but in the simplest case it is enough to just call <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open()</a> without any arguments to open the first connected device: </p><div class="fragment"><div class="line"><a class="code" href="classOpalKelly_1_1FrontPanelDevices.html">OpalKelly::FrontPanelDevices</a> devices;</div><div class="line"><a class="code" href="namespaceOpalKelly.html#aed5b6191f81ce1aacfeefddc19df3293">OpalKelly::FrontPanelPtr</a> fp = devices.<a class="code" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open</a>();</div><div class="line"><span class="keywordflow">if</span> (fp) {</div><div class="line">  ... use the device ...</div><div class="line">} <span class="keywordflow">else</span> {</div><div class="line">  ... no devices connected or error opening one ...</div><div class="line">}</div></div><!-- fragment --><p>Generally speaking, there can be more than one connected device in which case you need to call <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a11fb3c6618a0a4979830534894c98f50" title="Returns the number of available devices, possibly 0. ">GetCount()</a> to determine the device number, then call <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#af88b38bb85d1fbf03fedbffae3a02342">GetSerial()</a> for each of them in a loop, select the serial number of the device you want to open (e.g. by asking the user to select one of the serial numbers) and, finally, pass it to <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open()</a>.</p>
<p>Note that, unlike <a class="el" href="classOpalKelly_1_1FrontPanelManager.html" title="Class for managing device connections and disconnections. ">FrontPanelManager</a>, this class doesn't provide notifications for the devices being connected or disconnected, however, because of this, it is also simpler to use and doesn't require using a message loop or a separate thread. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acbdf3fbe2919e4c59a3948ef0be55bc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">OpalKelly::FrontPanelDevices::FrontPanelDevices </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>realm</em> = <code>std::string()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Currently supported realms are "local", corresponding to the devices connected to the machine running the program itself, or any URI of the form "fpoip://username:password@hostname[:port]" to operate with the remote devices on the specified host, running FPOIP server.</p>
<p>If connecting to the remote server fails, an <code>std::runtime_error</code> exception is thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">realm</td><td>The realm of the devices represented by this object. By default, i.e. if the value of this argument is an empty string, the realm specified by the okFP_REALM environment variable is used or, if this variable is not defined, the "local" realm. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acc0225965378b41ad4cedac92aed8896"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpalKelly::FrontPanelDevices::~FrontPanelDevices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor doesn't do anything special, in particular any devices returned by <a class="el" href="classOpalKelly_1_1FrontPanelDevices.html#a4c76c5201c52a52a5886c4d20ea677e4">Open()</a> can still be used even after this object itself is destroyed. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af88b38bb85d1fbf03fedbffae3a02342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string OpalKelly::FrontPanelDevices::GetSerial </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the serial number of the given device, possibly empty if the index is invalid. </p>

</div>
</div>
<a class="anchor" id="a4c76c5201c52a52a5886c4d20ea677e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceOpalKelly.html#aed5b6191f81ce1aacfeefddc19df3293">FrontPanelPtr</a> OpalKelly::FrontPanelDevices::Open </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>serial</em> = <code>std::string()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Opens the device with the given serial number, first one by default. Returns an empty pointer if there is no such device (or no devices at all if the serial is empty). </p>

</div>
</div>
</div><!-- contents -->
<hr size="1">
<center><small>Copyright (c) 2005-2017  Opal Kelly Incorporated</small></center>
</body>
</html>
